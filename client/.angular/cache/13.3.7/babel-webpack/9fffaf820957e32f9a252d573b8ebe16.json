{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/auth.service\";\nimport * as i3 from \"../service/alert.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../button/button.component\";\nimport * as i7 from \"../../pipe/first-up.pipe\";\n\nfunction FormLoginComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(error_r2);\n  }\n}\n\nfunction FormLoginComponent_div_7_ng_container_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"firstUp\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"incoming email is wrong\"));\n  }\n}\n\nfunction FormLoginComponent_div_7_ng_container_5_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"firstUp\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"set string is short\"));\n  }\n}\n\nfunction FormLoginComponent_div_7_ng_container_5_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"firstUp\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"this field is empty\"));\n  }\n}\n\nfunction FormLoginComponent_div_7_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FormLoginComponent_div_7_ng_container_5_ng_container_1_Template, 3, 3, \"ng-container\", 13);\n    i0.ɵɵtemplate(2, FormLoginComponent_div_7_ng_container_5_ng_container_2_Template, 3, 3, \"ng-container\", 13);\n    i0.ɵɵtemplate(3, FormLoginComponent_div_7_ng_container_5_ng_container_3_Template, 3, 3, \"ng-container\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const input_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", input_r3.data == null ? null : input_r3.data.errors == null ? null : input_r3.data.errors[\"email\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", input_r3.data == null ? null : input_r3.data.errors == null ? null : input_r3.data.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", input_r3.data == null ? null : input_r3.data.errors == null ? null : input_r3.data.errors[\"required\"]);\n  }\n}\n\nfunction FormLoginComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"label\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 11);\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtemplate(5, FormLoginComponent_div_7_ng_container_5_Template, 4, 3, \"ng-container\", 13);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const input_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", input_r3.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", input_r3.label, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", input_r3.name)(\"type\", input_r3.type)(\"name\", input_r3.name)(\"formControlName\", input_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", input_r3.data && input_r3.data.touched);\n  }\n}\n\nexport let FormLoginComponent = /*#__PURE__*/(() => {\n  class FormLoginComponent {\n    constructor(router, authService, alertService) {\n      this.router = router;\n      this.authService = authService;\n      this.alertService = alertService;\n      this.flagSubmit = false;\n      this.loginForm = new FormGroup({\n        email: new FormControl('myemail@email.com', [Validators.required, Validators.email]),\n        password: new FormControl('thismypassowrd', [Validators.minLength(6)])\n      });\n      this.inputs = [{\n        type: 'text',\n        name: 'email',\n        label: 'Email',\n        data: this.email\n      }, {\n        type: 'password',\n        name: 'password',\n        label: 'Password',\n        data: this.password\n      }];\n    }\n\n    ngOnInit() {}\n\n    onSubmit(e) {\n      e.preventDefault();\n      this.flagSubmit = !this.flagSubmit;\n      this.authService.login(this.loginForm.value).subscribe(token => {\n        this.authService.setAuthorizationToken(token.access_token);\n        this.restForm();\n        this.router.navigate(['/admin', 'dashboard']);\n        this.flagSubmit = !this.flagSubmit;\n        this.alertService.success('You went to account.');\n      }, () => {\n        this.flagSubmit = !this.flagSubmit;\n        this.alertService.warning('Something went wrong.');\n      });\n    }\n\n    restForm() {\n      var _a, _b;\n\n      (_a = this.email) === null || _a === void 0 ? void 0 : _a.reset();\n      (_b = this.password) === null || _b === void 0 ? void 0 : _b.reset();\n    }\n\n    get email() {\n      return this.loginForm.get('email');\n    }\n\n    get password() {\n      return this.loginForm.get('password');\n    }\n\n    get validForm() {\n      return this.loginForm.valid;\n    }\n\n    get authError() {\n      return this.authService.error;\n    }\n\n  }\n\n  FormLoginComponent.ɵfac = function FormLoginComponent_Factory(t) {\n    return new (t || FormLoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.AlertService));\n  };\n\n  FormLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormLoginComponent,\n    selectors: [[\"app-form-login\"]],\n    decls: 11,\n    vars: 12,\n    consts: [[1, \"flex\", \"justify-content-center\"], [1, \"form-login\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-login__h\", \"form-login__h--average\"], [\"class\", \"form-login__error\", 4, \"ngIf\"], [\"class\", \"input__cell flex flex-direction-column\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-login__action\", \"flex\"], [\"type\", \"submit\", \"text\", \"login\", \"size\", \"large\", 3, \"link\", \"disabled\"], [\"type\", \"reset\", \"text\", \"reset\", \"size\", \"large\", 3, \"link\", \"cb\"], [1, \"form-login__error\"], [1, \"input__cell\", \"flex\", \"flex-direction-column\"], [1, \"input__label\", 3, \"for\"], [1, \"input\", 3, \"id\", \"type\", \"name\", \"formControlName\"], [1, \"input__error\"], [4, \"ngIf\"]],\n    template: function FormLoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function FormLoginComponent_Template_form_ngSubmit_1_listener($event) {\n          return ctx.onSubmit($event);\n        });\n        i0.ɵɵelementStart(2, \"h4\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"firstUp\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, FormLoginComponent_div_5_Template, 2, 1, \"div\", 3);\n        i0.ɵɵpipe(6, \"async\");\n        i0.ɵɵtemplate(7, FormLoginComponent_div_7_Template, 6, 7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelement(9, \"app-button\", 6)(10, \"app-button\", 7);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 8, \"login administrator\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 10, ctx.authError));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.inputs);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"link\", false)(\"disabled\", !ctx.validForm || ctx.flagSubmit);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", false)(\"cb\", ctx.restForm);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.NgIf, i5.NgForOf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i6.ButtonComponent],\n    pipes: [i7.FirstUpPipe, i5.AsyncPipe],\n    styles: [\".form-login[_ngcontent-%COMP%]{width:300px;border:1px solid #333333;padding:.5882352941rem;border-radius:5px;background-color:#cd5c5c}.form-login__h[_ngcontent-%COMP%]{font-weight:700;padding-bottom:.8823529412rem;color:#333;text-align:center}.form-login__h--average[_ngcontent-%COMP%]{font-size:1.4705882353rem}.form-login__action[_ngcontent-%COMP%]{gap:.3529411765rem;padding-top:.8823529412rem}.form-login__error[_ngcontent-%COMP%]{font-size:.9411764706rem;text-align:center;background-color:red;margin-bottom:.4117647059rem}\", \".input[_ngcontent-%COMP%]{padding:.4117647059rem .6470588235rem;outline:none;font-size:1rem;border-radius:5px;border:1px solid #333333;color:#333;background-color:transparent}.input__label[_ngcontent-%COMP%]{color:#333;font-size:.9411764706rem;padding-bottom:.1764705882rem}.input__error[_ngcontent-%COMP%]{color:green;font-size:.8823529412rem;min-height:1.1764705882rem}\"]\n  });\n  return FormLoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
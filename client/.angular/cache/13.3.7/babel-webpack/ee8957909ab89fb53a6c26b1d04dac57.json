{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@kolkov/angular-editor\";\nimport * as i4 from \"../button/button.component\";\n\nfunction FormDynamicComponent_ng_container_3_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const input_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", input_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", input_r1.label, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", input_r1.name)(\"type\", input_r1.type)(\"name\", input_r1.name)(\"formControlName\", input_r1.name);\n  }\n}\n\nfunction FormDynamicComponent_ng_container_3_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"angular-editor\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function FormDynamicComponent_ng_container_3_ng_container_3_Template_angular_editor_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.htmlContent = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const input_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", input_r1.name)(\"formControlName\", input_r1.name)(\"config\", ctx_r3.editorConfig)(\"ngModel\", ctx_r3.htmlContent);\n  }\n}\n\nfunction FormDynamicComponent_ng_container_3_ng_container_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction FormDynamicComponent_ng_container_3_ng_container_5_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Minlength\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction FormDynamicComponent_ng_container_3_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FormDynamicComponent_ng_container_3_ng_container_5_ng_container_1_Template, 2, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, FormDynamicComponent_ng_container_3_ng_container_5_ng_container_2_Template, 2, 0, \"ng-container\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const input_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.form == null ? null : ctx_r4.form.controls == null ? null : ctx_r4.form.controls[input_r1.name] == null ? null : ctx_r4.form.controls[input_r1.name].errors == null ? null : ctx_r4.form.controls[input_r1.name].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.form.controls == null ? null : ctx_r4.form.controls[input_r1.name] == null ? null : ctx_r4.form.controls[input_r1.name].errors == null ? null : ctx_r4.form.controls[input_r1.name].errors[\"minlength\"]);\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"\": a0,\n    \"form_dynamic__cell\": a1\n  };\n};\n\nfunction FormDynamicComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtemplate(2, FormDynamicComponent_ng_container_3_ng_container_2_Template, 4, 6, \"ng-container\", 8);\n    i0.ɵɵtemplate(3, FormDynamicComponent_ng_container_3_ng_container_3_Template, 2, 4, \"ng-container\", 8);\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtemplate(5, FormDynamicComponent_ng_container_3_ng_container_5_Template, 3, 2, \"ng-container\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const input_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c0, input_r1.name === \"content\", input_r1.name !== \"content\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", input_r1.name !== \"content\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", input_r1.name === \"content\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls[input_r1.name].invalid && ctx_r0.form.controls[input_r1.name].touched);\n  }\n}\n\nexport let FormDynamicComponent = /*#__PURE__*/(() => {\n  class FormDynamicComponent {\n    constructor(formBuilder) {\n      this.formBuilder = formBuilder;\n      this.submitForm = new EventEmitter();\n      this.validate = {\n        required: Validators.required,\n        minLength: Validators.minLength(4)\n      };\n      this.editorConfig = {\n        outline: false,\n        enableToolbar: false,\n        editable: true,\n        spellcheck: true,\n        minHeight: '15rem',\n        maxHeight: '15rem',\n        placeholder: 'Enter text here...',\n        translate: 'no',\n        sanitize: false,\n        toolbarPosition: 'top',\n        defaultFontName: 'Comic Sans MS',\n        defaultFontSize: '4',\n        defaultParagraphSeparator: 'p',\n        customClasses: [{\n          name: 'quote',\n          class: 'quote',\n          tag: 'quote'\n        }, {\n          name: 'redText',\n          class: 'redText'\n        }, {\n          name: 'titleText',\n          class: 'titleText',\n          tag: 'h1'\n        }],\n        toolbarHiddenButtons: [[], ['insertVideo', 'fontSize', // 'textColor',\n        'backgroundColor']]\n      };\n      this.htmlContent = '';\n    }\n\n    ngOnInit() {\n      const prepareValue = this.formData.input.reduce((accum, input) => {\n        var _a;\n\n        const validators = (_a = input.validate) === null || _a === void 0 ? void 0 : _a.map(key => {\n          if (!!key) return this.validate[key];\n        });\n        accum[input.name] = new FormControl(input.value, validators);\n        if (input.name === 'content') this.htmlContent = input.value;\n        return accum;\n      }, {});\n      this.form = this.formBuilder.group(prepareValue);\n    }\n\n    onSubmit(e) {\n      e.preventDefault();\n      const form = new FormData();\n      const values = this.form.value;\n      Object.keys(values).forEach(key => form.append(key, values[key]));\n      this.submitForm.emit(form);\n    }\n\n  }\n\n  FormDynamicComponent.ɵfac = function FormDynamicComponent_Factory(t) {\n    return new (t || FormDynamicComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n\n  FormDynamicComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormDynamicComponent,\n    selectors: [[\"app-form-dynamic\"]],\n    inputs: {\n      formData: \"formData\"\n    },\n    outputs: {\n      submitForm: \"submitForm\"\n    },\n    decls: 8,\n    vars: 6,\n    consts: [[1, \"form_dynamic\", \"flex\", \"flex-direction-column\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form_dynamic__h\", \"form_dynamic__h--agerage\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form_dynamic__actions\", \"flex\"], [\"type\", \"submit\", \"text\", \"Add\", \"size\", \"large\", 3, \"link\"], [\"type\", \"reset\", \"text\", \"Reset\", \"size\", \"large\", 3, \"link\"], [3, \"innerHTML\"], [1, \"flex\", \"flex-direction-column\", 3, \"ngClass\"], [4, \"ngIf\"], [1, \"form_dynamic__error\"], [1, \"form_dynamic__label\", 3, \"for\"], [1, \"form_dynamic__input\", 3, \"id\", \"type\", \"name\", \"formControlName\"], [1, \"form_dynamic__editor\", 3, \"id\", \"formControlName\", \"config\", \"ngModel\", \"ngModelChange\"]],\n    template: function FormDynamicComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function FormDynamicComponent_Template_form_ngSubmit_0_listener($event) {\n          return ctx.onSubmit($event);\n        });\n        i0.ɵɵelementStart(1, \"h3\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, FormDynamicComponent_ng_container_3_Template, 6, 7, \"ng-container\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"app-button\", 4)(6, \"app-button\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.formData.title);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formData.input);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"link\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"link\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"innerHTML\", ctx.htmlContent, i0.ɵɵsanitizeHtml);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i2.NgForOf, i2.NgClass, i2.NgIf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i3.AngularEditorComponent, i4.ButtonComponent],\n    styles: [\".form_dynamic[_ngcontent-%COMP%]{border:1px solid gray;padding:.7058823529rem;width:100%}.form_dynamic__h[_ngcontent-%COMP%]{font-weight:700}.form_dynamic__h--agerage[_ngcontent-%COMP%]{font-size:1.4705882353rem}.form_dynamic__cell[_ngcontent-%COMP%]{padding:.4117647059rem 0}.form_dynamic__label[_ngcontent-%COMP%]{font-size:.8823529412rem;padding-bottom:.2941176471rem}.form_dynamic__input[_ngcontent-%COMP%]{padding:.2941176471rem .4705882353rem;outline:none;border:1px solid #000;font-size:1.0588235294rem}.form_dynamic__error[_ngcontent-%COMP%]{min-height:1.1764705882rem;font-size:.9411764706rem;color:green}.form_dynamic__editor[_ngcontent-%COMP%]{height:auto;width:auto;background-color:#fff}.form_dynamic__actions[_ngcontent-%COMP%]{padding-top:1.1764705882rem;gap:.5882352941rem}\"]\n  });\n  return FormDynamicComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}